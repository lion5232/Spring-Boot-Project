<div th:fragment="frag_index_content" class="content-wrapper">

	<div class="content-header">
		<div class="container-fluid">
			<div class="row mb-2">
				<div class="col-sm-6">
					<h1 class="m-0">Post 목록</h1>
				</div><!-- /.col -->
				<div class="col-sm-6">
					<ol class="breadcrumb float-sm-right">
						<li class="breadcrumb-item"><a href="/">Home</a></li>
					</ol>
				</div><!-- /.col -->
			</div><!-- /.row -->
		</div><!-- /.container-fluid -->
	</div>

	<section class="content">
		<div class="container-fluid">
			<!-- Small boxes (Stat box) -->
			<div class="row">
				<div class="col-lg-12 col-12">

					<table class="table">
						<thead style="background-color: rgb(55, 221, 152);">
							<!-- 컬럼명 -->
							<tr>
								<th>글번호</th>
								<th>제목</th>
								<th>작성일시</th>
							</tr>
						</thead>
						<tbody>
							<!--
			                    - 데이터 <= 디비를 조회하여 동적으로 출력
			                    - 템플릿 엔진의 문법을 통해서 데이터를 세팅, 추출, 흐름제어(if , for ~) 사용 가능
			                    - 템플릿 엔진 스타일
			                        - 오래전부터 사용 : servlet/jsp/asp/node/... => <%= 값 %>
			                        - 추가된 스타일 : {{ 값 }}
			                        - 구조로 표현하는 스타일 : 들여쓰기, 줄바꿈, 값표시기호 등등 사용
			                        - 타임리프 => HTML 엘리먼트의 속성으로 표시
			                            - <div th:text="${ 값 }"></div>
			                                - <div>값</div>
			                            - th:href, ...
			                -->
							<!-- posts 데이터에서 하나씩 꺼내서 데이터 한출 반복적으로 표현 -->
							<tr th:each="post, loop : ${post}"> <!--  반복되는 가장 상위 요소 <= 반복문 적용 -->
								<!--/* 데이터까 뿌려지는 순번대로 표기됨 */-->
								<td>[[ ${ loop.count } ]]</td>
								<!-- 								<td th:text=" ${post.id}"></td> -->
								<td>
									<a th:href="@{|/Acco/detail/${post.id}|}" th:text=" ${post.subject} "></a>
								</td>
								<!--  타임리프의 시간 포멧팅 처리 함수를 활용 -->
								<td th:text="${ #temporals.format( post.getCreateDate(), 'yyyy-MM-dd HH:MM:ss')  }">
								</td>
							</tr>
						</tbody>
					</table>

					<a th:href="@{/Acco/create}" class="btn btn-success"
						style="background-color: rgb(55, 221, 152);">Post 글쓰기</a>

				</div>
			</div>
		</div>
	</section>

	<div class="col-12">
		<div class="card">
			<div class="card-header">
				<h3 class="card-title">관광지 소개 게시판</h3>
				<div class="card-tools">
					<div class="input-group input-group-sm" style="width: 150px;">
						<input type="text" name="table_search" class="form-control float-right" placeholder="Search">
						<div class="input-group-append">
							<button type="submit" class="btn btn-default">
								<i class="fas fa-search"></i>
							</button>
						</div>
					</div>
				</div>
			</div>

			<div class="card-body table-responsive p-0">
				<table class="table table-hover text-nowrap">
					<thead>
						<tr>
							<th>글번호</th>
							<th>제목</th>
							<th>작성일</th> 
						</tr>
					</thead>
					<tbody>
						<tr th:each="post, loop : ${paging}">
							<td>[[ ${ loop.count } ]]</td>
 							<td><a th:href="@{|/Acco/detail/${post.id}|}" th:text=" ${post.subject} "></a></td>
							<td th:text="${ #temporals.format( post.getCreateDate(), 'yyyy-MM-dd HH:MM:ss')  }"></td>
						</tr>
					</tbody> 
				</table>
				<div class="card-footer clearfix">
						<ul class="pagination pagination-sm m-0 float-right">
						<li class="page-item" th:classappend="${ !paging.hasPrevious} ? 'disabled'">
							<a class="page-link"  th:href="@{|?page=${paging.number-1}|}">«</a>
						</li>
						
						<li th:each="page : ${ #numbers.sequence(0, paging.totalPages-1) }"
							th:classappend="${page == paging.number} ? 'active'  "  
							th:if="${ paging.number-5 <=page and page <=paging.number+5 }"
							class="page-item">
							<a class="page-link" th:href="@{|?page=${page}|}" 
								th:text="${page+1}"></a>
						</li>
						
						<li class="page-item" th:classappend="${ !paging.hasNext} ? 'disabled'">
							<a class="page-link" th:href="@{|?page=${paging.number+1}|}">»</a>
						</li>
						</ul>
				</div>
			</div> 
		</div> 
	</div> 
</div>